<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>머신러닝 프로젝트 처음 시작하기 | Today I Learned</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/TIL/logo.png">
    <meta name="description" content="Today I Learned generated by vuepress">
    
    <link rel="preload" href="/TIL/assets/css/0.styles.17fc269f.css" as="style"><link rel="preload" href="/TIL/assets/js/app.91830dd0.js" as="script"><link rel="preload" href="/TIL/assets/js/2.d0094704.js" as="script"><link rel="preload" href="/TIL/assets/js/37.a0ce94e5.js" as="script"><link rel="prefetch" href="/TIL/assets/js/10.adb7643c.js"><link rel="prefetch" href="/TIL/assets/js/100.89bfe63b.js"><link rel="prefetch" href="/TIL/assets/js/101.d5911667.js"><link rel="prefetch" href="/TIL/assets/js/102.aba10b6b.js"><link rel="prefetch" href="/TIL/assets/js/103.a7fb5e84.js"><link rel="prefetch" href="/TIL/assets/js/104.31449a32.js"><link rel="prefetch" href="/TIL/assets/js/105.040cd28b.js"><link rel="prefetch" href="/TIL/assets/js/106.2f1031b5.js"><link rel="prefetch" href="/TIL/assets/js/107.dbddee17.js"><link rel="prefetch" href="/TIL/assets/js/108.726623ea.js"><link rel="prefetch" href="/TIL/assets/js/109.278cfa35.js"><link rel="prefetch" href="/TIL/assets/js/11.497bad4d.js"><link rel="prefetch" href="/TIL/assets/js/110.706f7b16.js"><link rel="prefetch" href="/TIL/assets/js/111.f35dfbd3.js"><link rel="prefetch" href="/TIL/assets/js/112.c1f817df.js"><link rel="prefetch" href="/TIL/assets/js/113.db2ad4d3.js"><link rel="prefetch" href="/TIL/assets/js/114.e405a772.js"><link rel="prefetch" href="/TIL/assets/js/115.05175f10.js"><link rel="prefetch" href="/TIL/assets/js/116.a5779494.js"><link rel="prefetch" href="/TIL/assets/js/117.99692cc3.js"><link rel="prefetch" href="/TIL/assets/js/118.b4f5c013.js"><link rel="prefetch" href="/TIL/assets/js/119.ce45633f.js"><link rel="prefetch" href="/TIL/assets/js/12.09eafd42.js"><link rel="prefetch" href="/TIL/assets/js/120.20e8f3c4.js"><link rel="prefetch" href="/TIL/assets/js/121.a160ca79.js"><link rel="prefetch" href="/TIL/assets/js/122.63b398bd.js"><link rel="prefetch" href="/TIL/assets/js/123.3e7bca69.js"><link rel="prefetch" href="/TIL/assets/js/124.b559b560.js"><link rel="prefetch" href="/TIL/assets/js/125.6e186ba2.js"><link rel="prefetch" href="/TIL/assets/js/126.6f37286a.js"><link rel="prefetch" href="/TIL/assets/js/127.814a5cd5.js"><link rel="prefetch" href="/TIL/assets/js/128.e6683f2e.js"><link rel="prefetch" href="/TIL/assets/js/129.869e9a06.js"><link rel="prefetch" href="/TIL/assets/js/13.bc7e91bb.js"><link rel="prefetch" href="/TIL/assets/js/130.e35a0e41.js"><link rel="prefetch" href="/TIL/assets/js/131.081ab722.js"><link rel="prefetch" href="/TIL/assets/js/132.c7f00953.js"><link rel="prefetch" href="/TIL/assets/js/133.b1c4d7ae.js"><link rel="prefetch" href="/TIL/assets/js/134.324de867.js"><link rel="prefetch" href="/TIL/assets/js/135.857c6b80.js"><link rel="prefetch" href="/TIL/assets/js/136.a74f48fc.js"><link rel="prefetch" href="/TIL/assets/js/137.9ead6931.js"><link rel="prefetch" href="/TIL/assets/js/138.9a2b2da4.js"><link rel="prefetch" href="/TIL/assets/js/139.cb0645ec.js"><link rel="prefetch" href="/TIL/assets/js/14.d439d3e8.js"><link rel="prefetch" href="/TIL/assets/js/140.cb610404.js"><link rel="prefetch" href="/TIL/assets/js/141.82078bd9.js"><link rel="prefetch" href="/TIL/assets/js/142.acfa48db.js"><link rel="prefetch" href="/TIL/assets/js/143.e3f23e28.js"><link rel="prefetch" href="/TIL/assets/js/144.9362e13a.js"><link rel="prefetch" href="/TIL/assets/js/145.a3e7946c.js"><link rel="prefetch" href="/TIL/assets/js/146.96278803.js"><link rel="prefetch" href="/TIL/assets/js/15.8442590c.js"><link rel="prefetch" href="/TIL/assets/js/16.b78c28a1.js"><link rel="prefetch" href="/TIL/assets/js/17.7b4cb4b7.js"><link rel="prefetch" href="/TIL/assets/js/18.cc99887e.js"><link rel="prefetch" href="/TIL/assets/js/19.cb166ed8.js"><link rel="prefetch" href="/TIL/assets/js/20.7d732851.js"><link rel="prefetch" href="/TIL/assets/js/21.170c78a4.js"><link rel="prefetch" href="/TIL/assets/js/22.c06d0953.js"><link rel="prefetch" href="/TIL/assets/js/23.3c374b5f.js"><link rel="prefetch" href="/TIL/assets/js/24.a4eb7e64.js"><link rel="prefetch" href="/TIL/assets/js/25.e0ec57bf.js"><link rel="prefetch" href="/TIL/assets/js/26.311abf91.js"><link rel="prefetch" href="/TIL/assets/js/27.5fee27de.js"><link rel="prefetch" href="/TIL/assets/js/28.6c435814.js"><link rel="prefetch" href="/TIL/assets/js/29.cc149aca.js"><link rel="prefetch" href="/TIL/assets/js/3.1047b79f.js"><link rel="prefetch" href="/TIL/assets/js/30.5a3e0715.js"><link rel="prefetch" href="/TIL/assets/js/31.3be6e224.js"><link rel="prefetch" href="/TIL/assets/js/32.1060ba0c.js"><link rel="prefetch" href="/TIL/assets/js/33.6e93f59a.js"><link rel="prefetch" href="/TIL/assets/js/34.f40e3661.js"><link rel="prefetch" href="/TIL/assets/js/35.9bced38c.js"><link rel="prefetch" href="/TIL/assets/js/36.b2c82d17.js"><link rel="prefetch" href="/TIL/assets/js/38.ea7e863c.js"><link rel="prefetch" href="/TIL/assets/js/39.55cb8d10.js"><link rel="prefetch" href="/TIL/assets/js/4.00c04b5f.js"><link rel="prefetch" href="/TIL/assets/js/40.3e96ba85.js"><link rel="prefetch" href="/TIL/assets/js/41.82f408ca.js"><link rel="prefetch" href="/TIL/assets/js/42.3e6a11a8.js"><link rel="prefetch" href="/TIL/assets/js/43.520ecde4.js"><link rel="prefetch" href="/TIL/assets/js/44.f0ae5951.js"><link rel="prefetch" href="/TIL/assets/js/45.6dd59f46.js"><link rel="prefetch" href="/TIL/assets/js/46.47f44925.js"><link rel="prefetch" href="/TIL/assets/js/47.b29e9595.js"><link rel="prefetch" href="/TIL/assets/js/48.10c0101e.js"><link rel="prefetch" href="/TIL/assets/js/49.240684e4.js"><link rel="prefetch" href="/TIL/assets/js/5.bd70cb63.js"><link rel="prefetch" href="/TIL/assets/js/50.f39d0c72.js"><link rel="prefetch" href="/TIL/assets/js/51.6242c3f5.js"><link rel="prefetch" href="/TIL/assets/js/52.14b4a129.js"><link rel="prefetch" href="/TIL/assets/js/53.58c88ab9.js"><link rel="prefetch" href="/TIL/assets/js/54.188e312a.js"><link rel="prefetch" href="/TIL/assets/js/55.d5a4d43c.js"><link rel="prefetch" href="/TIL/assets/js/56.5c55da06.js"><link rel="prefetch" href="/TIL/assets/js/57.bea065b6.js"><link rel="prefetch" href="/TIL/assets/js/58.8cc0de7d.js"><link rel="prefetch" href="/TIL/assets/js/59.fb11f94c.js"><link rel="prefetch" href="/TIL/assets/js/6.b2615aea.js"><link rel="prefetch" href="/TIL/assets/js/60.b3d69051.js"><link rel="prefetch" href="/TIL/assets/js/61.a5405c3f.js"><link rel="prefetch" href="/TIL/assets/js/62.44f6d2f7.js"><link rel="prefetch" href="/TIL/assets/js/63.930cff06.js"><link rel="prefetch" href="/TIL/assets/js/64.6929eeea.js"><link rel="prefetch" href="/TIL/assets/js/65.daa92031.js"><link rel="prefetch" href="/TIL/assets/js/66.20a32bea.js"><link rel="prefetch" href="/TIL/assets/js/67.7e9e5255.js"><link rel="prefetch" href="/TIL/assets/js/68.55584127.js"><link rel="prefetch" href="/TIL/assets/js/69.30f508b4.js"><link rel="prefetch" href="/TIL/assets/js/7.f147ea1c.js"><link rel="prefetch" href="/TIL/assets/js/70.6bd49320.js"><link rel="prefetch" href="/TIL/assets/js/71.c858ba64.js"><link rel="prefetch" href="/TIL/assets/js/72.f5646ab0.js"><link rel="prefetch" href="/TIL/assets/js/73.d108b024.js"><link rel="prefetch" href="/TIL/assets/js/74.a82abd5b.js"><link rel="prefetch" href="/TIL/assets/js/75.ab8ec427.js"><link rel="prefetch" href="/TIL/assets/js/76.352e7fdc.js"><link rel="prefetch" href="/TIL/assets/js/77.3e5e101c.js"><link rel="prefetch" href="/TIL/assets/js/78.4b6cf653.js"><link rel="prefetch" href="/TIL/assets/js/79.8b665f5c.js"><link rel="prefetch" href="/TIL/assets/js/8.f2ad56ff.js"><link rel="prefetch" href="/TIL/assets/js/80.3366f0b3.js"><link rel="prefetch" href="/TIL/assets/js/81.483c6ee3.js"><link rel="prefetch" href="/TIL/assets/js/82.3d0aadc5.js"><link rel="prefetch" href="/TIL/assets/js/83.80d180af.js"><link rel="prefetch" href="/TIL/assets/js/84.4e8282be.js"><link rel="prefetch" href="/TIL/assets/js/85.d4b8125b.js"><link rel="prefetch" href="/TIL/assets/js/86.a94ec76e.js"><link rel="prefetch" href="/TIL/assets/js/87.873ce44e.js"><link rel="prefetch" href="/TIL/assets/js/88.5620cf5b.js"><link rel="prefetch" href="/TIL/assets/js/89.d4adad8a.js"><link rel="prefetch" href="/TIL/assets/js/9.a80eb21c.js"><link rel="prefetch" href="/TIL/assets/js/90.2c8345e5.js"><link rel="prefetch" href="/TIL/assets/js/91.86517194.js"><link rel="prefetch" href="/TIL/assets/js/92.f9997178.js"><link rel="prefetch" href="/TIL/assets/js/93.f22bdcb7.js"><link rel="prefetch" href="/TIL/assets/js/94.b09e18d8.js"><link rel="prefetch" href="/TIL/assets/js/95.bc25be48.js"><link rel="prefetch" href="/TIL/assets/js/96.0770cf9c.js"><link rel="prefetch" href="/TIL/assets/js/97.316c7ec0.js"><link rel="prefetch" href="/TIL/assets/js/98.682008c6.js"><link rel="prefetch" href="/TIL/assets/js/99.c9b2c8ea.js">
    <link rel="stylesheet" href="/TIL/assets/css/0.styles.17fc269f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/TIL/" class="home-link router-link-active"><!----> <span class="site-name">Today I Learned</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/taegon/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://code.taegon.kr/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/taegon/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://code.taegon.kr/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>1. Bookmarks</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/TIL/bookmark/blog-2020.html" class="sidebar-link">괜찮은 글 모음 (타임라인, 2020년)</a></li><li><a href="/TIL/bookmark/blog.html" class="sidebar-link">괜찮은 글 모음 (타임라인)</a></li><li><a href="/TIL/bookmark/programming.html" class="sidebar-link">프로그래밍 관련 북마크</a></li><li><a href="/TIL/bookmark/machine-learning.html" class="sidebar-link">머신 러닝 관련 북마크</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>2. Blog</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>3. Python</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="머신러닝-프로젝트-처음-시작하기"><a href="#머신러닝-프로젝트-처음-시작하기" class="header-anchor">#</a> 머신러닝 프로젝트 처음 시작하기</h1> <h2 id="머신러닝을-어떻게-동작하는가"><a href="#머신러닝을-어떻게-동작하는가" class="header-anchor">#</a> 머신러닝을 어떻게 동작하는가</h2> <p>지도학습, 비지도 학습, 강화학습 등이 있다.</p> <p>지도학습은 학습단계와 예측단계로 구성된다.</p> <h2 id="머신러닝-프로젝트의-과정"><a href="#머신러닝-프로젝트의-과정" class="header-anchor">#</a> 머신러닝 프로젝트의 과정</h2> <p>머신러닝으로 성공한 사례를 볼 때는 다음 세가지 질문을 살펴보자.</p> <ul><li>어떤 알고리즘을 사용하였는가?</li> <li>어떤 데이터를 특징으로 사용하였는가?</li> <li>머신러닝을 어떻게 통합하였는가?</li></ul> <p>머신러닝으로 해결 가능한 것과 그렇지 않을 것을 구분하는 것이 중요하다.</p> <blockquote><p>데이터 분석의 80%는 전처리</p></blockquote> <h3 id="문제정의하기"><a href="#문제정의하기" class="header-anchor">#</a> 문제정의하기</h3> <p>풀려고 하는 문제를 정의해야한다. 분석하는 과정에서 KPI(Key Performance Indicator, 핵심성과지표)가 발견되기 마련이다.</p> <p>이와 관련해서는 <code>린 스타트업</code>과 <code>린 분석</code> 두 권의 책을 참조하자.</p> <p>가설을 세우고 검증하는 방법은 쿡패드 개발자 블로그 <a href="http://techlife.cookpad.com/entry/2016/09/26/111601" target="_blank" rel="noopener noreferrer">가설 검증과 샘플 크기의 기초<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>를 참조하자. 일본어다. -_-</p> <h3 id="머신러닝을-사용하지-않는-방법-검토하기"><a href="#머신러닝을-사용하지-않는-방법-검토하기" class="header-anchor">#</a> 머신러닝을 사용하지 않는 방법 검토하기</h3> <blockquote><p>머신러닝은 기술부채 중 이자율이 매우 높은 신용카드다. - Sculley et al., 2014</p></blockquote> <p>머신러닝을 사용하는 시스템에는 다음과 같은 어려움이 있을 수 있다.</p> <ul><li>확률적인 부분으로 인해 자동 테스트가 어렵다.</li> <li>오래 운용하면 사용자 경향이 변해서 입력 경향도 바뀐다.</li> <li>처리 파이프가 복잡해진다.</li> <li>데이터 의존관계가 복잡해진다.</li> <li>실험 코드 혹은 실험 파라미터가 포함되기 쉽다.</li> <li>개발 시스템과 운영시스템 간의 언어/프레임워크가 파편화된다.</li></ul> <p>같은 단어가 트렌드가 바뀌면서 호오가 바뀌기도 한다. 혹은 자바와 같은 단어의 뜻이 지역명, 커피, 프로그래밍 언어와 같이 주요 의미가 바뀌기도 한다. 또한 난수를 이용하기 때문에 결과가 비결정적이고, 워낙 큰 데이터셋을 다루기 때문에, 생각치 못한 예측결과를 내보낼 수 있다. 따라서 사후에 시스템에 개입할 여지를 남겨두어야 한다.</p> <p>따라서, 머신러닝이 적합한 비지니스 문제는 다음과 같은 조건을 가져야 한다.</p> <ul><li>대량의 데이터에서 고속으로 안정적인 판단을 요구받는다.</li> <li>예측 결과에 일정 수준의 오류가 용인된다.</li></ul> <p>이러한 조건이 갖추어지면, MVP(Minimum Viable Product, 최소기능제품)를 만들어 본다. &quot;린 스타트업&quot;에서 다루는 주제로 고객가치를 창출할 수 있는 최소한의 제품을 의미한다.</p> <p>머신러닝은 문제 설정에서 가설 검증에 이르는 사이클이 일반적인 개발주기에 비해서 긴 편이므로, 고객 니즈 및 개념 정리가 명확히 되었는지 미리 살펴볼 필요가 있다.</p> <h3 id="시스템-설계하기"><a href="#시스템-설계하기" class="header-anchor">#</a> 시스템 설계하기</h3> <p>문제 정의와 MVP 검증이 끝나면, 머신러닝 시스템을 설계해야 한다. 중요한 질문은 다음과 같다.</p> <ul><li>예측 결과를 어떻게 이용할 것인가?</li> <li>예측 오류의 영향을 어떻게 흡수할 것인가?</li></ul> <p>예측 결과를 이용하는 방법은 예측 결과를 배치로 처리하여 데이터베이스에 저장하는 방식과 사용자 액션마다 비동기적으로 처리하는 방법이 있다.</p> <p>오류에 대처하기 위해, 예측 결과를 사람이 직접 확인 후 시스템에 적용되도록 하는 방식을 생각할 수 있다. 그 피해가 크지않다면, 직접 시스템에 적용할 수도 있다.</p> <p>실제 작업(데이터 수집, 모델 작성, 시스템 구축)에 들어가면, 목표 성능과 포기 지점을 설정해야 한다. 그렇지 않으면, 끝없이 개선하는 늪에 빠지거나 근자감에 빠지기 쉽다.</p> <h3 id="알고리즘-선택하기"><a href="#알고리즘-선택하기" class="header-anchor">#</a> 알고리즘 선택하기</h3> <p>데이터 특성을 모른다면, 군집화 같은 비지도 학습이나, 스캐터플롯 매트릭스 등으로 데이터를 탐색할 수 있다.</p> <p>데이터 양에 기초하여 온라인 학습과 배치학습 중에 어느 쪽이 더 적합한지 판단할 수 있다.</p> <h3 id="특성-레이블-로그-설계하기"><a href="#특성-레이블-로그-설계하기" class="header-anchor">#</a> 특성, 레이블, 로그 설계하기</h3> <p>특성은 모델에 입력되는 정보이다. 수치화된 자료를 이용하나, 범주형 변수는 더미 변수를 이용하여 수치화한다. 사이킷런의 <code>LabelEncoder</code>나 <code>OneHotEncoder</code>을 이용할 수 있다.</p> <p>고전 머신러닝에서는 적합한 특성을 선택하는 것이 모델링의 핵심이었다. 따라서 도메인 전문가의 경험적 지식이 중요하다. 이 경우 불필요한 데이터는 나중에 제거할 수는 있지만, 필요한 정보를 나중에 추가하는 것은 매우 어렵다.</p> <p>특성이 준비되면, 입력 데이터로 쓸 정답 데이터가 필요하다.</p> <p>지도학습에서는 품질이 높은 정답 레이블을 확보하는 것이 중요하다.</p> <p>서버의 로그에서 정답 데이터를 찾기도 한다.</p> <h3 id="데이터-전처리"><a href="#데이터-전처리" class="header-anchor">#</a> 데이터 전처리</h3> <p>전처리는 문제와 데이터에 따라 달라지나, 기본적으로 불필요한 정보를 발라내고, 데이터를 머신러닝에 이용할 수 있는 형태로 만드는 것이 주된 일이다. 관개형 데이터베이스가 이상적인 형태이나, 로그 같은 경우는 특정한 형식에 맞추어 변환할 필요가 있고, 수치 데이터는 누락값이나 이상치를 처리해야 한다. 값의 변동폭이 크게 차이날 경우에는 정규화같은 과정이 필요하다. 텍스트 데이터는 빈도를 세거나, 빈도가 적은 단어를 입력 자료에서 제외하기도 한다. 범주형 변수를 더미 변수로 바꾸는 작업 역시 전처리의 주요한 작업 중 하나이다.</p> <h3 id="학습-및-파라미터-튜닝"><a href="#학습-및-파라미터-튜닝" class="header-anchor">#</a> 학습 및 파라미터 튜닝</h3> <p>우선 사람이 직접 부여한 정답이나 규칙 기반 예측보다 나은 성능을 목표로 한다.</p> <p>첫 단계로 로지스틱 회귀와 같은 간단한 모델을 만들어본다. 대부분의 경우 데이터 누락과 같이 데이터 자체에 버그가 잠재되어 있을 수 있다.</p> <p>첫번째 결과가 너무 잘 맞으면(99.9% 같이), 어딘가 실수가 있었는지 의심해 봐야한다. 과적합 가능성이 높고, 훈련 데이터가 테스트 데이터에 일부 섞이면서 데이터 유출이 생겨서일 수 있다.</p> <p>과적합은 훈련 데이터의 예측 성능은 높지만, 처음보는 데이터에 대한 예측은 훨씬 뒤쳐지는 현상을 보인다. 반대로, 처음 보는 데이터를 잘 처리하는 모델은 일반화 성능이 높다라고 한다.</p> <p>데이터 유출(data leakage)는 캐글에서 진행한 &quot;암 예측 콘테스트&quot;의 예로 살펴보자. 전립선 수술을 받았는지 여부의 필드가 포암되어 있었는데, 이 정보를 사용한 예측 모델은 성능이 매우 좋았지만, 해당 필드 자체가 &quot;전림선 암을 앓은 환자가 암을 진단받은 후 수술을 받았다&quot;라는 의미가 되므로, 암 진단을 새로이 예측하는 모델을 무의미하게 만들어버렸다. 시계열 데이터를 사용하는 경우, 검증 데이터를 무작위로 분할하는 과정에서 학습 데이터가 테스트 데이터에 포함되는 경우가 종종 발생한다.</p> <p>이러한 점에 주의하여, 학습 및 파라미터 튜닝을 하되, 오답 사례는 원인을 살펴보는 것이 중요하다.</p> <p>과적합을 방지하는 방법은 1) 교차검증을 통한 파라미터 튜닝, 규제화, 학습곡선 살펴보기 등이 있다. 교차 검증은 훈련 데이터와 검증 데이터를 분할하는 과정에서 서로 다른 셋을 선택하도록 하는 과정이다. 예를 들어, 10개의 데이터셋으로 나누고, 9개는 학습용, 1개는 검증용으로 쓰되, 반복적으로 조합을 바꾸어 테스트하게 된다. 사이킷런에서는 <code>cross_val_score()</code> 함수와 <code>GridSearchCV</code> 클래스를 제공한다.</p> <p>실무에서는 한 그룹정도의 데이터셋을 미리 빼두어, 이를 테스트 데이터라고 부르고, 나머지 교차 검증용 자료는 개발 데이터라고 부르기도 한다.</p> <p>두번째 방법으로 규제화(regularization)가 사용되기도 한다. 규제화는 모든 데이터를 정확히 분류하는 대신, 약간 잘못 분류하더라도, 새로운 데이터를 적절히 처리하도록 하는 방법이다.</p> <p>학습곡선(learning curve)는 데이터 규모나 학습 반복 횟수에 따라 손실값의 추이를 나타낸 그래프이다. 이 그래프를 참조하여 과적합 여부를 판별한다.</p> <h3 id="시스템에-통합하기"><a href="#시스템에-통합하기" class="header-anchor">#</a> 시스템에 통합하기</h3> <p>이렇게 완성된 러닝머신 모델은 시스템에 통합하는 일만 남았다. 이때 주의할 점은 예측성능과 비지니스 성과를 모니터링 해야 한다. 예측 성능 모니터링은 미리 사람이 작성한 데이터와 정답의 쌍으로 이루어진 데이터셋을 이용하는데, 이러한 데이터셋을 황금기준(gold standard 또는 황금표준)이라고 한다.</p> <p>통합된 이후에는 비지니스 지표 개선을 잘 살펴보아야 한다. 즉, KPI를 개선해야 한다. 모델에 빠져지내면 안된다. 시스템 통합이 끝이 아니라, 꾸준히 개선해 나가야 할 일인 것이다.</p> <h2 id="운영시스템에서-발생하는-머신러닝-문제-대처법"><a href="#운영시스템에서-발생하는-머신러닝-문제-대처법" class="header-anchor">#</a> 운영시스템에서 발생하는 머신러닝 문제 대처법</h2> <h3 id="사람이-정한-황금기준을-사용하여-예측성능-모니터링"><a href="#사람이-정한-황금기준을-사용하여-예측성능-모니터링" class="header-anchor">#</a> 사람이 정한 황금기준을 사용하여 예측성능 모니터링</h3> <p>머신러닝은 확률적인 부분이 있어서 예측 결과를 자동화하여 검증하기 어려우나, 미리 확보한 데이터와 정답 셋이 있으면 이를 이용하여 예측 성능을 측정하고, 변화 추이를 모니터링할 수 있다. 예측성능의 임계치를 설정해두면, 입력 경향 변화를 감지할 수 있다.</p> <h3 id="알고리즘에-대한-a-b-테스트"><a href="#알고리즘에-대한-a-b-테스트" class="header-anchor">#</a> 알고리즘에 대한 A/B 테스트</h3> <p>예측 모델을 이용하여 운영하다 보면, 한가지 알고리즘으로는 금세 한계에 봉착한다. 여러 예측 모형을 모듈화해두고, 병렬로 바꾸어가며 A/B 테스트를 하여 비교할 수 있다.</p> <h3 id="모델-버전관리를-통한-자유로운-롤백"><a href="#모델-버전관리를-통한-자유로운-롤백" class="header-anchor">#</a> 모델 버전관리를 통한 자유로운 롤백</h3> <p>머신러닝 시스템을 장기간 운영하다보면, 원인을 알 수 없이 성능이 떨어질 수 있다. 입력 데이터가 바뀌었을 수도 있고, 처리 과정에서 예상치 못한 오류가 발생했을 수도 있다. 이중 모델 갱신이 원인일 가능성을 배제하기 위해서는, 이전버전으로 손쉽게 롤백할 수 있어야 한다. 소스코드, 모델, 데이터를 모두 버전관리하는 것이 가장 이상적이다.</p> <p>모델 버전관리와 함께, 데이터에 대한 설명도 문서화해주면 도움이 된다.</p> <h3 id="데이터-처리-파이프라인-저장"><a href="#데이터-처리-파이프라인-저장" class="header-anchor">#</a> 데이터 처리 파이프라인 저장</h3> <p>예측 모델을 생성할 때, 모델 자체의 하이퍼파라미터도 튜닝하지만, 전처리 과정에서 사용하는 파라미터도 있다. 텍스트 처리를 할 때, 빈도의 임계치 같은 것이 대상이 된다.</p> <p>파라미터가 많고, 데이터가 복잡하면, 성능이 안 나오는 경우가 많은데, 전처리를 포함한 전체 처리 파이프라인을 저장해두어야 한다.</p> <p>사이킷런은 추상화가 잘 되어 있어서, 파이프라인을 만들기 수월하다. 코드가 정리가 되므로, 과정을 이해하기 쉽고, 실험 코드나 알고리즘 파라미터 등을 한곳에서 관리할 수 있다.</p> <h3 id="개발-시스템과-운영-시스템의-언어-및-프레임워크-일치"><a href="#개발-시스템과-운영-시스템의-언어-및-프레임워크-일치" class="header-anchor">#</a> 개발 시스템과 운영 시스템의 언어 및 프레임워크 일치</h3> <p>예측모델을 R로 개발하고, 애플리케이션은 자바로 구현한 경우를 생각해보자. 두 언어 모두 구현해야 하므로, 알고리즘 변경 비용이 크며, R로 빠르게 작성한 프로토타입이 있는데, 실제로 운영에 반영하기에 오랜 시간이 걸리는 상황이 발생한다.</p> <p>예측 모델은 여러번의 실험이 필요하므로, 코드가 정돈되지 않은 경우가 많다. 동일한 언어와 프레임워크를 쓴다면, 마이그레이션, 커뮤니케이션 비용을 줄일 수 있고, 복잡성 역시 낮출 수 있다.</p> <p>다만, 최근에서는 마이크로 서비스가 활발해지면서, 이러한 제한이 약화되었다. 마이크로 서비스는 <a href="https://martinfowler.com/articles/microservices.html" target="_blank" rel="noopener noreferrer">마틴 파울러의 글<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>을 참조하자. 구현 언어의 선택은 팀 전체의 스킬셋에 영향을 주므로, 이를 고려하여 언어를 결정해야 한다.</p> <p>머신러닝 제품의 우수한 실무 사례는 <a href="http://bit.ly/2q8q0x2" target="_blank" rel="noopener noreferrer">Rules of Machine Learning: Best Practices for ML Engineering<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>를 참고하자.</p> <h3 id="사이킷런이-머신러닝에서-사실상-표준으로-자리매김하는-이유"><a href="#사이킷런이-머신러닝에서-사실상-표준으로-자리매김하는-이유" class="header-anchor">#</a> 사이킷런이 머신러닝에서 사실상 표준으로 자리매김하는 이유</h3> <p>사이킷런은 추상화가 잘 되어 있어서, 일관된 API를 유지하고 있다. 학습 함수는 <code>fit()</code>, 예측 함수는 <code>predict()</code>로 통일하여 사용하고 있으며, 교차검증은 <code>cross_val_score()</code>와 같은 함수나 클래스를 이용한다. 따라서 이러한 인터페이스를 지키는 다양한 알고리즘을 갈아 끼워가며 개발할 수 있다. 전천리에 들어갈 임계치 목록을 결정하면, 이를 이용하여 파라미터를 탐색할 수 있고, 학습 알고리즘 목록을 만들면 파라미터와 알고리즘을 간단히 비교, 탐색 할 수 있다. 전처리와 알고리즘을 파이프라인으로 만들어, 성능이 가장 좋은 조합을 저장해 둘 수도 있으며, 저장해둔 파이프라인의 설정을 다시 불러서 사용할 수 있다. 이러한 장점으로 스파크 같은 다른 라이브러리에서도 비슷한 설계를 채택하고 있다.</p> <h2 id="머신러닝-시스템을-성공적으로-운영하기"><a href="#머신러닝-시스템을-성공적으로-운영하기" class="header-anchor">#</a> 머신러닝 시스템을 성공적으로 운영하기</h2> <p>머신러닝을 도입한 시스템은 위험요소가 항상 존재한다. 일반적인 시스템과 달리 수개월이 지나도 결과물이 나오지 않을 수 있다. 우여곡절 끝에 만든 모델이 무작위 추출보다 성능이 떨어질 수 있다. 저자는 비지니스 성공을 위한 4가지 역할을 강조한다.</p> <ul><li>제품에 대한 도메인 지식을 갖춘 사람</li> <li>통계와 머신러닝을 잘 아는 사람</li> <li>데이터 분석 인프라를 구축할 수 있는 데이터 엔지니어</li> <li>실패에 대한 위험을 짊어질 수 있는 책임자</li></ul> <p>도메인 전문가는 매우 중요하다. 해결할 문제가 무엇인지, 그리고 모델에 사용할 특성을 결정하고, 자료를 수집할 때 중요한 열쇠가 된다.</p> <p>머신러닝을 잘 아는 사람. 즉, 데이터 사이언티스트는 많은 독자가 지향하는 역할일 것이다. 구현 능력과 더불어 문제를 설정하는 의사소통 능력이 중요하다.</p> <p>최근에는 데이터 엔지니어의 역할이 커지고 있는데, 머신러닝 인프라를 어떻게 갖추어야 하는지 같이 의논해야 한다.</p> <p>마지막으로 모든 리스크를 짊어질 책임자가 중요하다. 높은 실패 확률을 인식하고, 그럼에도 불구하고 기대되는 가치를 위해 의사결정권자를 설득하는 존재이다.</p> <h2 id="정리"><a href="#정리" class="header-anchor">#</a> 정리</h2> <ul><li>해결하는 문제에 대해 가설을 세우고, MVP를 만들어 개념 검증을 최우선한다.</li> <li>머신러닝 이외에 사용할 방법이 있는지 검토한다.</li> <li>머신러닝에 적합한 문제인지 파악한다.</li> <li>예측 성능과 KPI 모두를 모니터링하면서 꾸준히 개선한다.</li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">1/14/2020, 7:22:02 AM</span></div></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/TIL/assets/js/app.91830dd0.js" defer></script><script src="/TIL/assets/js/2.d0094704.js" defer></script><script src="/TIL/assets/js/37.a0ce94e5.js" defer></script>
  </body>
</html>
